{# Course index page, should be a 'single' section #}

{% extends '_layouts/layout_main' %}

{% set body_class = 'page-courses' %}
{% set title = "Courses" %}

{% block content %}

<div class="uk-container">
  <h1 class="page-header uk-text-center">Courses</h1>
  
  <div class="uk-grid-small" uk-grid>
    {% for entry in craft.entries.section('courses').orderBy('courseNumber asc').all() %}
      <div>
        <div class="uk-card uk-card-body uk-flex-middle" uk-grid>

          {# course image #}
          <div class="uk-width-1-3">
            {% set image = entry.courseFeatureImage.one() %}
            {% if image %}
              <a href="{{ siteUrl ~ image.getUrl() }}" class="featured-image">
                <img class="thumbnailImage" data-src="{{ siteUrl ~ image.getUrl('thumbWide') }}" alt="Course image" width=data-width height=data-height uk-img>
              </a>
            {% else %}
              <img src="http://via.placeholder.com/800x500?text=&nbsp;" alt="placeholder">
            {% endif %}
          </div>

          {# course info #}
          <div class="uk-width-2-3">
            <h3 class="uk-margin-remove-bottom">{{ entry.courseSubject }} {{ entry.courseNumber }}</h3>
            <h2 class="uk-margin-remove">{{ entry.title }}</h2>
            <p class="subtitle">{{ entry.courseDepartment }}</p>

            <p>{{ entry.description }}</p>
            <a href=" {{ entry.courseURL }}" target="_blank" class="uk-button cta-button">Course Outline</a>
          </div>

        </div>
      </div>
    {% endfor %}
  </div>

  
</div>

{% endblock %}